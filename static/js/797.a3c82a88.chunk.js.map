{"version":3,"file":"static/js/797.a3c82a88.chunk.js","mappings":"sNAwBMA,GAAiBC,EAAAA,EAAAA,GAAU,CAACC,KAAM,SAAjBD,EAfL,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACrC,OACI,kBAAMC,SAAUH,EAAhB,WACKI,EAAAA,EAAAA,IAAY,QAAS,QAAS,CAACC,EAAAA,GAAWC,EAAAA,KAC1CF,EAAAA,EAAAA,IAAY,WAAY,WAAY,CAACC,EAAAA,GAAWC,EAAAA,GAAO,CAACC,KAAM,cAC9DH,EAAAA,EAAAA,IAAY,GAAI,aAAc,GAAIE,EAAAA,GAAO,CAACC,KAAM,YAAa,eAE7DL,IAAc,gBAAKM,IAAKN,IACxBA,IAAcE,EAAAA,EAAAA,IAAY,qBAAsB,UAAW,CAACC,EAAAA,GAAWC,EAAAA,IAEvEL,IAAS,gBAAKQ,UAAWC,EAAAA,EAAAA,iBAAhB,SAA0CT,KACpD,0BAAK,8CAwBjB,WAAeU,EAAAA,EAAAA,KAJS,SAACC,GAAD,MAAY,CAChCV,WAAYU,EAAMC,KAAKX,WACvBY,OAAQF,EAAMC,KAAKC,UAEiB,CAACC,MAAAA,EAAAA,IAAzC,EAlBc,SAACC,GAKX,OAAIA,EAAMF,QACC,SAAC,KAAD,CAAUG,GAAI,cAElB,4BACH,mCACA,SAACpB,EAAD,CAAgBM,SATH,SAACe,GACdF,EAAMD,MAAMG,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAQzCpB,WAAYc,EAAMd,oB,2NC/BxDqB,EAAc,SAAC,GAA8C,EAA7CC,MAA8C,IAAD,IAAtCC,KAAOC,EAA+B,EAA/BA,QAASzB,EAAsB,EAAtBA,MAAQ0B,EAAc,EAAdA,SAC3CC,EAAWF,GAAWzB,EAC5B,OACI,iBAAKQ,UAAWC,EAAAA,EAAAA,YAAqB,KAAOkB,EAAWlB,EAAAA,EAAAA,MAAe,IAAtE,WACI,yBACKiB,IAEJC,IAAY,0BAAO3B,QAKnB4B,EAAW,SAACb,GACrB,IAAOQ,EAAoCR,EAApCQ,MAAuBM,GAAad,EAA7BS,KAA6BT,EAAvBe,OAApB,OAA2Cf,EAA3C,IACA,OAAO,SAACO,GAAD,kBAAiBP,GAAjB,cAAwB,uCAAcQ,GAAWM,QAG/CxB,EAAQ,SAACU,GAClB,IAAOQ,EAAoCR,EAApCQ,MAAuBM,GAAad,EAA7BS,KAA6BT,EAAvBe,OAApB,OAA2Cf,EAA3C,IACA,OAAO,SAACO,GAAD,kBAAiBP,GAAjB,cAAwB,oCAAWQ,GAAWM,QAG5C1B,EAAc,SAAC4B,EAAaC,EAAMC,EAAYC,GAAhC,IAA2CnB,EAA3C,uDAAmD,GAAIoB,EAAvD,uDAA8D,GAA9D,OAAsE,4BAC7F,SAAC,KAAD,QACIJ,YAAaA,EACbK,SAAUH,EACVD,KAAMA,EACNE,UAAWA,GACPnB,IANqF,IAOzFoB,O,4EClCD,IAAM/B,EAAW,SAACiC,GACrB,IAAIA,EACJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCLlC,KAAgB,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB","sources":["components/Login/Login.jsx","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","webpack://social_network/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth_reducer\";\r\nimport {Navigate} from 'react-router-dom'\r\nimport styles from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField(\"\", \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate to={'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\",) => <div>\r\n    <Field\r\n        placeholder={placeholder}\r\n        validate={validators}\r\n        name={name}\r\n        component={component}\r\n        {...props}\r\n    /> {text}\r\n</div>","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__2DrIS\",\"error\":\"FormsControls_error__+IV3j\",\"formSummaryError\":\"FormsControls_formSummaryError__04LsR\"};"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","onSubmit","createField","required","Input","type","src","className","styles","connect","state","auth","isAuth","login","props","to","formData","email","password","rememberMe","captcha","FormControl","input","meta","touched","children","hasError","Textarea","restProps","child","placeholder","name","validators","component","text","validate","value","maxLengthCreator","maxLength","length"],"sourceRoot":""}